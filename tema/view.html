<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<base href="http://localhost/fin/" />
		<title>{{TITLE}}</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="{{TITLE}}" />
		<meta name="author" content="{{TITLE}}" />

		<!-- Le styles -->
		<link href="css/bootstrap.min.css" rel="stylesheet" />
		<link href="css/bootstrap-datepicker.css" rel="stylesheet" />
		<link href="css/simplePagination.css" rel="stylesheet" />
		<link href="css/style.css" rel="stylesheet" />				

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<!-- Le fav and touch icons -->
		<link rel="shortcut icon" href="images/favicon.ico" />
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/apple-touch-icon-114-precomposed.png" />
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/apple-touch-icon-72-precomposed.png" />
		<link rel="apple-touch-icon-precomposed" href="images/apple-touch-icon-57-precomposed.png" />

		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/bootstrap-datepicker.js"></script>
		<script type="text/javascript" src="js/jquery.tmpl.min.js"></script>
		<script type="text/javascript" src="js/jquery.simplePagination.js"></script>		


	</head>

	<body>

			<div class="navbar navbar-fixed-top">
				<div class="navbar-inner">
					<div class="container">
						<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</a>
						<a class="brand" href="./">FINANÇAS PESSOAIS</a>
						<div class="nav-collapse">
							<ul class="nav">
								<li ><a href="./">Resultados</a></li>
								<li class="active"><a href="./customers">Cliente e Fornecedor</a></li>
								<li ><a href="./packages">lançamentos</a></li>
								<li ><a href="./services">Caixa</a></li>								
								<li ><a href="./services">Contas</a></li>
								<li ><a href="./services">Extrato</a></li>								
							</ul>
						</div><!--/.nav-collapse -->
					</div>
				</div>
			</div>
<script type="text/javascript">
	/*$LAB.script("modelo/clifor.js").wait(function(){
		page.init();
	});*/
</script>

<div class="container">

<div class="row">
	<div class="span5">
		<h3>
			<i class="icon-barcode"></i> Cliente e Fornecedor
		</h3>		
	</div>
	<div class="span7" style="text-align: right;">
		<div class="btn-toolbar rigth">
			<a class="btn btn btn-success" href="#"><i class="icon-plus-sign icon-white"></i> Adicionar</a>
			<a class="btn" href="#"><i class="icon-print"></i> Imprimir</a>
				<div class="btn-group"><a class="btn" href="#"><i class="icon-filter"></i> Filtro</a>
					<a class="btn dropdown-toggle" data-toggle="dropdown" href="#"><span class="caret"></span></a>
  						<ul class="dropdown-menu">
    						<li style="text-align: left;"><a href="#">Código</a></li>
    						<li style="text-align: left;"><a href="#">Nome</a></li>
    						<li style="text-align: left;"><a href="#">Tipo</a></li>
  						</ul>
				</div>
				<div class="btn-group"><a class="btn" href="#"><i class="icon-align-justify"></i> Linhas na consulta</a>
					<a class="btn dropdown-toggle" data-toggle="dropdown" href="#"><span class="caret"></span></a>
  						<ul class="dropdown-menu">
    						<li style="text-align: left;"><a href="javascript:setNumLinhas(10);">10 Linhas na consulta</a></li>
    						<li style="text-align: left;"><a href="javascript:setNumLinhas(15);">15 Linhas na consulta</a></li>
    						<li style="text-align: left;"><a href="javascript:setNumLinhas(20);">20 Linhas na consulta</a></li>
    						<li style="text-align: left;"><a href="javascript:setNumLinhas(30);">30 Linhas na consulta</a></li>
    						<li style="text-align: left;"><a href="javascript:setNumLinhas(50);">50 Linhas na consulta</a></li>    						    						
  						</ul>
				</div>
				
		</div>
	</div>
</div>

<table id="tbConsulta" class="collection table table-bordered table table-condensed table-hover">
<thead>
	<tr>
		<th class="span3">AÇÕES</th>
		<th><a class="titcodigo" href="javascript:orderConsulta('codigo')">CÓDIGO</a></th>
		<th><a class="titnome" href="javascript:orderConsulta('nome')">NOME <i class="icon-arrow-down"></i></a></th>
		<th><a class="tittipo" href="javascript:orderConsulta('tipo')">TIPO</a></th>
	</tr>
</thead>
<tbody id="vlCollection"></tbody>
</table>
			
	<!-- underscore template for the collection -->
	<script type="text/x-jquery-tmpl" id="packageCollectionTemplate">
		<tr>
			<td class="acoesView"><small>
				<a href="javascript:verRegistro(${idclifor})"><i class="icon-zoom-in"></i> Visualizar</a> | 
				<a href="javascript:editarRegistro(${idclifor})"><i class="icon-edit"></i> Editar</a> | 
				<a href="javascript:deletarRegistro(${idclifor})"><i class="icon-trash"></i> Excluir</a></small></td>
			<td>${idclifor}</td>
			<td>${nome}</td>
			<td>${tipo}</td>
		</tr>
	</script>
	
	<script type="text/javascript">
	
		var numLinhasConsulta = 10;
		var orderView = 'nome';
		var order = 'ASC';
		var numPagina = 1;
	
		$.ajax({
			dataType: "json",
			url:"http://localhost/fin/vwclifor.php",
			json: "$callback",
			success: function( data ){
				var clifor = data.d;
				$("#vlCollection").empty();
				$("#packageCollectionTemplate").tmpl(clifor).appendTo("#vlCollection");
			}
		});
		
		paginacao = $(function() {
		    $("#paginacao").pagination({
		        items: 100,
		        itemsOnPage: numLinhasConsulta,
		        cssStyle: 'light-theme',
		        prevText: 'Anterior',
		        nextText: 'Próximo',
		        currentPage: numPagina,
		        hrefText: 'vwclifor.php?pg='
		    });
		});		
	
		function setNumLinhas(valor){
			numLinhasConsulta = valor;
		    $("#paginacao").pagination({
		        items: 100,
		        itemsOnPage: numLinhasConsulta,
		        cssStyle: 'light-theme',
		        prevText: 'Anterior',
		        nextText: 'Próximo',
		        currentPage: numPagina,
		        hrefText: 'vwclifor.php?pg='
		    });
		}
		
		function orderConsulta(campo){
			var titulo = '';
			if (orderView != campo){
				$('.tit' + orderView + ' i').remove();
				titulo = $.trim($('.tit' + campo).html()) + ' <i class="icon-arrow-down"></i>';
				$('.tit' + campo).html(titulo);
				orderView = campo;
				if (order == 'ASC')	order = 'DESC';
				else order = 'ASC';
			}else{			
				$('.tit' + orderView + ' i').remove();
				
				if (order == 'ASC'){
					order = 'DESC';
					titulo = $.trim($('.tit' + campo).html()) + ' <i class="icon-arrow-up"></i>';
				}else{
					order = 'ASC';
					titulo = $.trim($('.tit' + campo).html()) + ' <i class="icon-arrow-down"></i>';
				}
				$('.tit' + campo).html(titulo);
				orderView = campo;
			}
			
		}
		
		function verRegistro(codigo){
			// Código para mostrar o registro selecionado
		}
		
		function editarRegistro(codigo){
			// Código para edição do registro selecionado
		}

		function deletarRegistro(codigo){
			// Código para deleção do registro selecionado
		}
		
	</script>
	
	<div id="paginacao" class="pagination"></div>	

	<!-- underscore template for the model -->
	<script type="text/template" id="packageModelTemplate">
		<form class="form-horizontal" onsubmit="return false;">
			<fieldset>
				<div id="idInputContainer" class="control-group">
					<label class="control-label" for="id">Id</label>
					<div class="controls inline-inputs">
						<span class="input-xlarge uneditable-input" id="id"><%= _.escape(item.get('id') || '') %></span>
						<span class="help-inline"></span>
					</div>
				</div>
				<div id="customerIdInputContainer" class="control-group">
					<label class="control-label" for="customerId">Customer Id</label>
					<div class="controls inline-inputs">
						<select id="customerId" name="customerId"></select>
						<span class="help-inline"></span>
					</div>
				</div>
				<div id="trackingNumberInputContainer" class="control-group">
					<label class="control-label" for="trackingNumber">Tracking Number</label>
					<div class="controls inline-inputs">
						<input type="text" class="input-xlarge" id="trackingNumber" placeholder="Tracking Number" value="<%= _.escape(item.get('trackingNumber') || '') %>">
						<span class="help-inline"></span>
					</div>
				</div>
				<div id="descriptionInputContainer" class="control-group">
					<label class="control-label" for="description">Description</label>
					<div class="controls inline-inputs">
						<textarea class="input-xlarge" id="description" rows="3"><%= _.escape(item.get('description') || '') %></textarea>
						<span class="help-inline"></span>
					</div>
				</div>
				<div id="serviceInputContainer" class="control-group">
					<label class="control-label" for="service">Service</label>
					<div class="controls inline-inputs">
						<select id="service" name="service"></select>
						<span class="help-inline"></span>
					</div>
				</div>
				<div id="shipDateInputContainer" class="control-group">
					<label class="control-label" for="shipDate">Ship Date</label>
					<div class="controls inline-inputs">
						<input type="text" class="date-picker input-xlarge" id="shipDate" value="<%= _date(app.parseDate(item.get('shipDate'))).format('YYYY-MM-DD') %>">
						<input type="text" class="time-picker input-xlarge" id="shipDate-time" value="<%= _date(app.parseDate(item.get('shipDate'))).format('h:mm A') %>">
						<span class="help-inline"></span>
					</div>
				</div>
				<div id="destinationInputContainer" class="control-group">
					<label class="control-label" for="destination">Destination</label>
					<div class="controls inline-inputs">
						<input type="text" class="input-xlarge" id="destination" placeholder="Destination" value="<%= _.escape(item.get('destination') || '') %>">
						<span class="help-inline"></span>
					</div>
				</div>
			</fieldset>
		</form>

		<!-- delete button is is a separate form to prevent enter key from triggering a delete -->
		<form id="deletePackageButtonContainer" class="form-horizontal" onsubmit="return false;">
			<fieldset>
				<div class="control-group">
					<label class="control-label"></label>
					<div class="controls">
						<button id="deletePackageButton" class="btn btn-mini btn-danger"><i class="icon-trash icon-white"></i> Delete Package</button>
						<span id="confirmDeletePackageContainer" class="hide">
							<button id="cancelDeletePackageButton" class="btn btn-mini">Cancel</button>
							<button id="confirmDeletePackageButton" class="btn btn-mini btn-danger">Confirm</button>
						</span>
					</div>
				</div>
			</fieldset>
		</form>
	</script>

	<!-- modal edit dialog -->
	<div class="modal hide fade" id="packageDetailDialog">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">&times;</a>
			<h3>
				<i class="icon-edit"></i> Edit Package
				<span id="modelLoader" class="loader progress progress-striped active"><span class="bar"></span></span>
			</h3>
		</div>
		<div class="modal-body">
			<div id="modelAlert"></div>
			<div id="packageModelContainer"></div>
		</div>
		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" >Cancel</button>
			<button id="savePackageButton" class="btn btn-primary">Save Changes</button>
		</div>
	</div>

	<div id="collectionAlert"></div>

	<div id="packageCollectionContainer" class="collectionContainer">
	</div>

	<!-- footer -->
	<hr>

	<footer><small>&copy; 2012 FINANÇAS PESSOAIS - POINT DA INFORMAÇÃO</small></footer>

</div> <!-- /container -->

	</body>
</html>